<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FAQ &mdash; Finagle 6.33.0 documentation</title>
    
    <link rel="stylesheet" href="_static/finagle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '6.33.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Finagle 6.33.0 documentation" href="index.html" />
    <link rel="next" title="Finagle changelog" href="changelog.html" />
    <link rel="prev" title="Metrics" href="Metrics.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39101739-4', 'twitter.github.io');
    ga('send', 'pageview');

  </script>

  </head>
  <body>
  
  

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="changelog.html" title="Finagle changelog"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Metrics.html" title="Metrics"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Finagle</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="faq">
<h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general-finagle-faq">
<h2>General Finagle FAQ<a class="headerlink" href="#general-finagle-faq" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-are-cancelledrequestexception-and-cancelledconnectionexception">
<span id="propagate-failure"></span><h3>What are CancelledRequestException and CancelledConnectionException?<a class="headerlink" href="#what-are-cancelledrequestexception-and-cancelledconnectionexception" title="Permalink to this headline">¶</a></h3>
<p>When a client connected to a Finagle server disconnects, the server raises
a <em>cancellation</em> interrupt on the pending Future. This is done to
conserve resources and avoid unnecessary work: the upstream
client may have timed the request out, for example. Interrupts on
futures propagate, and so if that server is in turn waiting for a response
from a downstream server it will cancel this pending request, and so on.</p>
<p>The topology, visually:</p>
<p><tt class="docutils literal"><span class="pre">Upstream</span> <span class="pre">---&gt;</span> <span class="pre">(Finagle</span> <span class="pre">Server</span> <span class="pre">-&gt;</span> <span class="pre">Finagle</span> <span class="pre">Client)</span> <span class="pre">---&gt;</span> <span class="pre">Downstream</span></tt></p>
<p>Interrupts propagate between the Finagle Server and Client only if the
Future returned from the Server is chained <a class="footnote-reference" href="#id2" id="id1">[1]</a> to the Client.</p>
<p>A simplified code snippet that exemplifies the intra-process structure:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.twitter.finagle.Mysql</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.mysql</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.Service</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.Http</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.http</span>
<span class="k">import</span> <span class="nn">com.twitter.util.Future</span>

<span class="k">val</span> <span class="n">client</span><span class="k">:</span> <span class="kt">Service</span><span class="o">[</span><span class="kt">mysql.Request</span>, <span class="kt">mysql.Result</span><span class="o">]</span> <span class="k">=</span>
  <span class="nc">Mysql</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">newService</span><span class="o">(...)</span>

<span class="k">val</span> <span class="n">service</span><span class="k">:</span> <span class="kt">Service</span><span class="o">[</span><span class="kt">http.Request</span>, <span class="kt">http.Response</span><span class="o">]</span> <span class="k">=</span>
  <span class="k">new</span> <span class="nc">Service</span><span class="o">[</span><span class="kt">http.Request</span>, <span class="kt">http.Response</span><span class="o">]</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">apply</span><span class="o">(</span><span class="n">req</span><span class="k">:</span> <span class="kt">http.Request</span><span class="o">)</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">http.Response</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
      <span class="n">client</span><span class="o">(...).</span><span class="n">map</span><span class="o">(</span><span class="n">req</span><span class="k">:</span> <span class="kt">mysql.Result</span> <span class="o">=&gt;</span> <span class="n">http</span><span class="o">.</span><span class="nc">Response</span><span class="o">())</span>
    <span class="o">}</span>
  <span class="o">}</span>

<span class="k">val</span> <span class="n">server</span> <span class="k">=</span> <span class="nc">Http</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">serve</span><span class="o">(...,</span> <span class="n">service</span><span class="o">)</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>&#8220;Chained&#8221; in this context means that calling <cite>Future#raise</cite>
will reach the interrupt handler on the Future that represents
the RPC call to the client. This is clearly the case in the above
example where the call to the client is indeed the returned Future.
However, this will still hold if the client call was in the context
of a Future combinator (ex. <cite>Future#select</cite>, <cite>Future#join</cite>, etc.)</td></tr>
</tbody>
</table>
<p>This is the source of the <a class="reference external" href="http://twitter.github.io/finagle/docs/#com.twitter.finagle.CancelledRequestException">CancelledRequestException</a> &#8211;
when a Finagle client receives the cancellation interrupt while a request is pending, it
fails that request with this exception. A special case of this is when a request is in the process
of establishing a session and is instead interrupted with a <a class="reference external" href="http://twitter.github.io/finagle/docs/#com.twitter.finagle.CancelledConnectException">CancelledConnectException</a></p>
<p>You can disable this behavior by using the <a class="reference external" href="http://twitter.github.io/finagle/docs/#com.twitter.finagle.filter.MaskCancelFilter">MaskCancelFilter</a>:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.twitter.finagle.filter.MaskCancelFilter</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.Http</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.http.</span>

<span class="k">val</span> <span class="n">service</span><span class="k">:</span> <span class="kt">Service</span><span class="o">[</span><span class="kt">http.Request</span>, <span class="kt">http.Response</span><span class="o">]</span> <span class="k">=</span>
  <span class="nc">Http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">newService</span><span class="o">(</span><span class="s">&quot;http://twitter.com&quot;</span><span class="o">)</span>
<span class="k">val</span> <span class="n">masked</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">MaskCancelFilter</span><span class="o">[</span><span class="kt">http.Request</span>, <span class="kt">http.Response</span><span class="o">]</span>

<span class="k">val</span> <span class="n">maskedService</span> <span class="k">=</span> <span class="n">masked</span><span class="o">.</span><span class="n">andThen</span><span class="o">(</span><span class="n">service</span><span class="o">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most protocols do not natively support request cancellations (though modern RPC
protocols like <a class="reference internal" href="Protocols.html"><em>Mux</em></a> do). In practice, this means that for these
protocols, we need to disconnect the client to signal cancellation, which in turn
can cause undue connection churn.</p>
</div>
</div>
<div class="section" id="why-is-com-twitter-common-zookeeper-server-set-not-found">
<h3>Why is com.twitter.common.zookeeper#server-set not found?<a class="headerlink" href="#why-is-com-twitter-common-zookeeper-server-set-not-found" title="Permalink to this headline">¶</a></h3>
<p>Some of our libraries still aren&#8217;t published to maven central. If you add</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="n">resolvers</span> <span class="o">+=</span> <span class="s">&quot;twitter&quot;</span> <span class="n">at</span> <span class="s">&quot;https://maven.twttr.com&quot;</span>
</pre></div>
</div>
<p>to your sbt configuration, it will be able to pick up the libraries which are
published externally, but not yet to maven central.</p>
</div>
<div class="section" id="how-do-i-configure-clients-and-servers-with-finagle-6-apis">
<span id="configuring-finagle6"></span><h3>How do I configure clients and servers with Finagle 6 APIs?<a class="headerlink" href="#how-do-i-configure-clients-and-servers-with-finagle-6-apis" title="Permalink to this headline">¶</a></h3>
<p>As of <a class="reference internal" href="changelog.html"><em>6.x</em></a>, We introduced a new, preferred API for constructing Finagle
<tt class="docutils literal"><span class="pre">Client</span></tt>s and <tt class="docutils literal"><span class="pre">Server</span></tt>s. Where the old API used <tt class="docutils literal"><span class="pre">ServerBuilder</span></tt>/<tt class="docutils literal"><span class="pre">ClientBuilder</span></tt>
with <tt class="docutils literal"><span class="pre">Codec</span></tt>s, the new APIs use <tt class="docutils literal"><span class="pre">Protocol.client.newClient</span></tt> and <tt class="docutils literal"><span class="pre">Protocol.server.serve</span></tt> <a class="footnote-reference" href="#id4" id="id3">[2]</a>.</p>
<p>Old <tt class="docutils literal"><span class="pre">ClientBuilder</span></tt> APIs:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.twitter.finagle.builder.ClientBuilder</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.http.Http</span>

<span class="k">val</span> <span class="n">client</span> <span class="k">=</span> <span class="nc">ClientBuilder</span><span class="o">()</span>
  <span class="o">.</span><span class="n">codec</span><span class="o">(</span><span class="nc">Http</span><span class="o">)</span>
  <span class="o">.</span><span class="n">hosts</span><span class="o">(</span><span class="s">&quot;localhost:10000,localhost:10001,localhost:10003&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="n">hostConnectionLimit</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
  <span class="o">.</span><span class="n">build</span><span class="o">()</span>
</pre></div>
</div>
<p>New <tt class="docutils literal"><span class="pre">Stack</span></tt> APIs:</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.twitter.finagle.Http</span>

<span class="k">val</span> <span class="n">client</span> <span class="k">=</span> <span class="nc">Http</span><span class="o">.</span><span class="n">client</span>
  <span class="o">.</span><span class="n">withSessionPool</span><span class="o">.</span><span class="n">maxSize</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
  <span class="o">.</span><span class="n">newService</span><span class="o">(</span><span class="s">&quot;localhost:10000,localhost:10001&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>The new APIs make timeouts more explicit, but we think we have a pretty good reason
for changing the API this way.</p>
<p>Timeouts are typically used in two cases:</p>
<ol class="upperalpha simple">
<li>Liveness detection (TCP connect timeout)</li>
<li>Application requirements (global timeout)</li>
</ol>
<p>For liveness detection, it is actually fine for timeouts to be long.  We have a
default of 1 second.</p>
<p>For application requirements, you can use a service normally and then use
<tt class="docutils literal"><span class="pre">Future#raiseWithin</span></tt>.</p>
<div class="highlight-scala"><div class="highlight"><pre><span class="k">import</span> <span class="nn">com.twitter.conversions.time._</span>
<span class="k">import</span> <span class="nn">com.twitter.util.Future</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.Http</span>
<span class="k">import</span> <span class="nn">com.twitter.finagle.http</span>

<span class="k">val</span> <span class="n">get</span><span class="k">:</span> <span class="kt">Future</span><span class="o">[</span><span class="kt">http.Response</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Http</span><span class="o">.</span><span class="n">fetchUrl</span><span class="o">(</span><span class="s">&quot;http://twitter.com/&quot;</span><span class="o">)</span>
<span class="n">get</span><span class="o">.</span><span class="n">raiseWithin</span><span class="o">(</span><span class="mf">1.</span><span class="n">ms</span><span class="o">)</span>
</pre></div>
</div>
<p>We found that having all of the extremely granular timeouts was making it harder
for people to use Finagle, since it was hard to reason about what all of the
timeouts did without knowledge of Finagle internals.  How is <tt class="docutils literal"><span class="pre">tcpConnectTimeout</span></tt>
different from <tt class="docutils literal"><span class="pre">connectTimeout</span></tt>?  How is a <tt class="docutils literal"><span class="pre">requestTimeout</span></tt> different from a
<tt class="docutils literal"><span class="pre">timeout</span></tt>?  What is an <tt class="docutils literal"><span class="pre">idleReaderTimeout</span></tt>?  How is it different from
<tt class="docutils literal"><span class="pre">idleWriterTimeout</span></tt>?  People would often cargo-cult bad configuration settings,
and it would be difficult to recover from the bad situation.  We also found that
they were rarely being used correctly, and usually only by very sophisticated
users.</p>
<p>Of course, there are some points where there are rough edges, and we haven&#8217;t
figured out exactly what the right default should be.  We&#8217;re actively looking
for input, and would love for the greater Finagle community to help us find good
defaults. We&#8217;ve also been experimenting with some new abstractions that should
make configuration a lot more flexible. Stay tuned and of course reach out to
the mailing list with any questions.</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>Protocol implementors are encouraged to provide sensible
defaults and leave room for application specific behavior
to be built on top of the base layer via filters or
synchronization mechanisms.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="why-do-clients-see-com-twitter-finagle-failedfastexception-s">
<span id="faq-failedfastexception"></span><h3>Why do clients see com.twitter.finagle.FailedFastException&#8217;s?<a class="headerlink" href="#why-do-clients-see-com-twitter-finagle-failedfastexception-s" title="Permalink to this headline">¶</a></h3>
<p>While the <a class="reference external" href="https://github.com/twitter/finagle/blob/master/finagle-core/src/main/scala/com/twitter/finagle/service/FailFastFactory.scala">FailFast</a> service
factory generally shields clients from downed hosts, sometimes clients will see
<a class="reference external" href="https://github.com/twitter/finagle/blob/master/finagle-core/src/main/scala/com/twitter/finagle/Exceptions.scala">FailedFastExceptions</a>.
A common cause is when all endpoints in the load balancer&#8217;s pool are
marked down as fail fast, then the load balancer will pass requests through, resulting in a
<tt class="docutils literal"><span class="pre">com.twitter.finagle.FailedFastException</span></tt>.</p>
<p>A related issue is when the load balancer&#8217;s pool is a single endpoint that is itself a
load balancer (for example an Nginx server or a hardware load balancer).
It is important to disable fail fast as the remote load balancer has
the visibility into which endpoints are up.</p>
<p>See <a href="#id5"><span class="problematic" id="id6">:ref:`this example &lt;disabling_fail_fast&gt;`_</span></a> on how to disable <cite>Fail Fast</cite> for a given client.</p>
<p>Refer to the <a class="reference internal" href="Clients.html#client-fail-fast"><em>fail fast</em></a> section for further context.</p>
</div>
<div class="section" id="how-long-should-my-clients-live">
<h3>How long should my Clients live?<a class="headerlink" href="#how-long-should-my-clients-live" title="Permalink to this headline">¶</a></h3>
<p>One client should be made per set of fungible services.  You should not be reinstantiating
your client on every request, and you should not have a different client per instance&#8211;finagle
can handle load-balancing for you.</p>
<p>There are a few use cases, like link shortening, or web crawling, where a service must communicate
with many other non-fungible services, in which it makes sense to proliferate clients that are
created, used, and thrown away, but in the vast majority of cases, clients should be persistent,
not ephemeral.</p>
</div>
</div>
<div class="section" id="mux-specific-faq">
<h2>Mux-specific FAQ<a class="headerlink" href="#mux-specific-faq" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-service-behavior-will-change-when-upgrading-to-mux">
<h3>What service behavior will change when upgrading to Mux?<a class="headerlink" href="#what-service-behavior-will-change-when-upgrading-to-mux" title="Permalink to this headline">¶</a></h3>
<p><em>Connecting Pooling Metrics</em></p>
<p>With Mux, Finagle multiplexes several requests onto a single connection. As a
consequence, traditional forms of connection-pooling are no longer required. Thus
Mux employs <a class="reference external" href="http://twitter.github.io/finagle/docs/#com.twitter.finagle.pool.SingletonPool">com.twitter.finagle.pool.SingletonPool</a>,
which exposes new stats:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">connects</span></tt>, <tt class="docutils literal"><span class="pre">connections</span></tt>, and <tt class="docutils literal"><span class="pre">closechans</span></tt> stats should drop, since
there will be less channel opening and closing.</li>
<li><tt class="docutils literal"><span class="pre">connection_duration</span></tt>, <tt class="docutils literal"><span class="pre">connection_received_bytes</span></tt>, and
<tt class="docutils literal"><span class="pre">connection_sent_bytes</span></tt> stats should increase, since connections become more
long-lived.</li>
<li><tt class="docutils literal"><span class="pre">connect_latency_ms</span></tt> and <tt class="docutils literal"><span class="pre">failed_connect_latency_ms</span></tt> stats may become
erratic because their sampling will become more sparse.</li>
<li><tt class="docutils literal"><span class="pre">pool_cached</span></tt>, <tt class="docutils literal"><span class="pre">pool_waiters</span></tt>, <tt class="docutils literal"><span class="pre">pool_num_waited</span></tt>, <tt class="docutils literal"><span class="pre">pool_size</span></tt> stats all
pertain to connection pool implementations not used by Mux, so they disappear
from stats output.</li>
</ul>
<p><em>ClientBuilder configuration</em></p>
<p>Certain <a class="reference external" href="http://twitter.github.io/finagle/docs/#com.twitter.finagle.builder.ClientBuilder">ClientBuilder</a>
settings related to connection pooling become obsolete:
<tt class="docutils literal"><span class="pre">hostConnectionCoresize</span></tt>, <tt class="docutils literal"><span class="pre">hostConnectionLimit</span></tt>, <tt class="docutils literal"><span class="pre">hostConnectionIdleTime</span></tt>,
<tt class="docutils literal"><span class="pre">hostConnectionMaxWaiters</span></tt>, <tt class="docutils literal"><span class="pre">hostConnectionMaxIdleTime</span></tt>,
<tt class="docutils literal"><span class="pre">hostConnectionMaxLifeTime</span></tt>, and <tt class="docutils literal"><span class="pre">hostConnectionBufferSize</span></tt></p>
<p><em>Server Connection Stats</em></p>
<p>The server-side connection model changes as well. Expect the following stats to
be impacted:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">connects</span></tt>, <tt class="docutils literal"><span class="pre">connections</span></tt>, and <tt class="docutils literal"><span class="pre">closechans</span></tt> stats should drop.</li>
<li><tt class="docutils literal"><span class="pre">connection_duration</span></tt>, <tt class="docutils literal"><span class="pre">connection_received_bytes</span></tt>, and
<tt class="docutils literal"><span class="pre">connection_sent_bytes</span></tt> should increase.</li>
<li>Obsolete stats: <tt class="docutils literal"><span class="pre">idle/idle</span></tt>, <tt class="docutils literal"><span class="pre">idle/refused</span></tt>, and <tt class="docutils literal"><span class="pre">idle/closed</span></tt></li>
</ul>
<p><em>ServerBuilder configuration</em>
Certain <a class="reference external" href="http://twitter.github.io/finagle/docs/#com.twitter.finagle.builder.ServerBuilder">ServerBuilder</a>
connection management settings become obsolete: <tt class="docutils literal"><span class="pre">openConnectionsThresholds</span></tt>,
<tt class="docutils literal"><span class="pre">hostConnectionMaxIdleTime</span></tt>, and <tt class="docutils literal"><span class="pre">hostConnectionMaxLifeTime</span></tt>.</p>
</div>
<div class="section" id="what-is-thriftmux">
<h3>What is ThriftMux?<a class="headerlink" href="#what-is-thriftmux" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://twitter.github.io/finagle/docs/#com.twitter.finagle.ThriftMux$">ThriftMux</a>
is an implementation of the Thrift protocol built on top of Mux.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="index.html">
  <img class="logo" src="_static/logo_small.png" alt="Logo"/>
</a></p><a href="index.html"><h3>Finagle</h3></a>
<p>
  Finagle is a network stack for distributed systems.
</p>

<h3>Useful Links</h3>
<ul>
  <li><a href="http://github.com/twitter/finagle">Finagle @ GitHub</a></li>
  <li><a href="http://github.com/twitter/finagle/issues">Issue Tracker</a></li>
</ul>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">FAQ</a><ul>
<li><a class="reference internal" href="#general-finagle-faq">General Finagle FAQ</a><ul>
<li><a class="reference internal" href="#what-are-cancelledrequestexception-and-cancelledconnectionexception">What are CancelledRequestException and CancelledConnectionException?</a></li>
<li><a class="reference internal" href="#why-is-com-twitter-common-zookeeper-server-set-not-found">Why is com.twitter.common.zookeeper#server-set not found?</a></li>
<li><a class="reference internal" href="#how-do-i-configure-clients-and-servers-with-finagle-6-apis">How do I configure clients and servers with Finagle 6 APIs?</a></li>
<li><a class="reference internal" href="#why-do-clients-see-com-twitter-finagle-failedfastexception-s">Why do clients see com.twitter.finagle.FailedFastException&#8217;s?</a></li>
<li><a class="reference internal" href="#how-long-should-my-clients-live">How long should my Clients live?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mux-specific-faq">Mux-specific FAQ</a><ul>
<li><a class="reference internal" href="#what-service-behavior-will-change-when-upgrading-to-mux">What service behavior will change when upgrading to Mux?</a></li>
<li><a class="reference internal" href="#what-is-thriftmux">What is ThriftMux?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Metrics.html" title="previous chapter">Metrics</a></li>
      <li>Next: <a href="changelog.html" title="next chapter">Finagle changelog</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Search the contents of this site.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">&copy; Copyright 2016 Twitter, Inc.</div>
  
  </body>
</html>